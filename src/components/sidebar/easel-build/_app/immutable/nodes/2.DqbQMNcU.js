import{s as $,n as O,o as j}from"../chunks/scheduler.BvLojk_z.js";import{S as z,i as A,e as E,b as D,s as q,c as w,d as T,f as V,g as p,h as I,m as M,n as y,o as v,j as x,k as N,p as P,q as X,l as Y,r as F}from"../chunks/index.CL1isplV.js";function U(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function k(t,n,u){const d=t.slice();return d[7]=n[u],d}function B(t){let n,u=t[7].icon+"",d,i,c,l;function _(){return t[4](t[7])}return{c(){n=E("button"),d=D(u),this.h()},l(s){n=w(s,"BUTTON",{id:!0,class:!0});var f=T(n);d=V(f,u),f.forEach(p),this.h()},h(){v(n,"id",i=t[0]==t[7].name?"selected":"unselected"),v(n,"class","tbbutton")},m(s,f){x(s,n,f),N(n,d),c||(l=X(n,"click",_),c=!0)},p(s,f){t=s,f&1&&i!==(i=t[0]==t[7].name?"selected":"unselected")&&v(n,"id",i)},d(s){s&&p(n),c=!1,l()}}}function G(t){let n,u=(t[1]==""?"New Easel":t[1])+"",d,i,c,l,_,s,f,h,r="ios_share",S,L,g=U(t[2]),o=[];for(let e=0;e<g.length;e+=1)o[e]=B(k(t,g,e));return{c(){n=E("title"),d=D(u),i=q(),c=E("div"),l=E("input"),_=q(),s=E("div");for(let e=0;e<o.length;e+=1)o[e].c();f=q(),h=E("button"),h.textContent=r,this.h()},l(e){n=w(e,"TITLE",{});var m=T(n);d=V(m,u),m.forEach(p),i=I(e),c=w(e,"DIV",{id:!0,class:!0});var a=T(c);l=w(a,"INPUT",{style:!0,placeholder:!0}),a.forEach(p),_=I(e),s=w(e,"DIV",{id:!0,class:!0});var b=T(s);for(let C=0;C<o.length;C+=1)o[C].l(b);f=I(b),h=w(b,"BUTTON",{class:!0,"data-svelte-h":!0}),M(h)!=="svelte-12ieyau"&&(h.textContent=r),b.forEach(p),this.h()},h(){y(l,"font-size","25px"),y(l,"margin-top","20px"),y(l,"font-weight","800"),y(l,"text-align","center"),y(l,"position","absolute"),y(l,"transform","translateX(calc(50vw - 200px))"),v(l,"placeholder","New Easel"),v(c,"id","canvas"),v(c,"class","svelte-6aplyn"),v(h,"class","tbbutton"),v(s,"id","toolbar"),v(s,"class","svelte-6aplyn")},m(e,m){x(e,n,m),N(n,d),x(e,i,m),x(e,c,m),N(c,l),P(l,t[1]),x(e,_,m),x(e,s,m);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,null);N(s,f),N(s,h),S||(L=X(l,"input",t[3]),S=!0)},p(e,[m]){if(m&2&&u!==(u=(e[1]==""?"New Easel":e[1])+"")&&Y(d,u),m&2&&l.value!==e[1]&&P(l,e[1]),m&5){g=U(e[2]);let a;for(a=0;a<g.length;a+=1){const b=k(e,g,a);o[a]?o[a].p(b,m):(o[a]=B(b),o[a].c(),o[a].m(s,f))}for(;a<o.length;a+=1)o[a].d(1);o.length=g.length}},i:O,o:O,d(e){e&&(p(n),p(i),p(c),p(_),p(s)),F(o,e),S=!1,L()}}}var H=0;function J(){var t=document.activeElement;const n=document.querySelector("div#canvas");t.matches(":hover")&&n.removeChild(t)}function K(t,n,u){const d=[{name:"selection",icon:"arrow_selector_tool"},{name:"text",icon:"text_fields"}];var i=d[0].name,c=[{x:0,y:0},{x:0,y:0}],l="";function _(){const h=document.querySelector("div#canvas");if(i=="text"&&!document.activeElement.matches("input")){const r=document.createElement("input");r.style=`position: fixed; left: ${c[1].x-10}px; top: ${c[1].y-25}px;`,r.id="inp"+String(H),r.placeholder="Type anything...",h.appendChild(r),r.focus(),console.log("New element created!"),u(0,i="selection"),document.body.style.cursor="default"}}j(()=>{console.log("New Easel created"),document.querySelector("div#canvas").addEventListener("mouseup",r=>{c[1]={x:r.pageX,y:r.pageY},_()}),document.body.addEventListener("mouseup",r=>{r.which==2&&J()})});function s(){l=this.value,u(1,l)}return[i,l,d,s,h=>{u(0,i=h.name),i=="text"?document.body.style.cursor="text":document.body.style.cursor="default"}]}class W extends z{constructor(n){super(),A(this,n,K,G,$,{})}}export{W as component};
